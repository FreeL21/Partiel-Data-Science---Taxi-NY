{
  "cells": [
    {
      "metadata": {
        "_uuid": "eb215bbb77762d7d2d8e9073fae3506d4350eb38"
      },
      "cell_type": "markdown",
      "source": "# Importing the magic stuff"
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "b810fedd153f8d18b10ba514e3e0099b6e31377f"
      },
      "cell_type": "code",
      "source": "import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.model_selection import cross_val_score, train_test_split\n\n%matplotlib inline",
      "execution_count": 1,
      "outputs": []
    },
    {
      "metadata": {
        "_uuid": "c5b0c824cf9cdc288a217449dab44c08f78bd72e"
      },
      "cell_type": "markdown",
      "source": "# Data exploration"
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "ba35d683c5f57fe48b59a8dec72408dcf6e9d059"
      },
      "cell_type": "code",
      "source": "df_train = pd.read_csv('../input/train.csv')\ndf_test = pd.read_csv('../input/test.csv')",
      "execution_count": 2,
      "outputs": []
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "eaa364bd567cc0ad93013f1c9cccab90f6148b15"
      },
      "cell_type": "code",
      "source": "df_train.head()",
      "execution_count": 3,
      "outputs": [
        {
          "output_type": "execute_result",
          "execution_count": 3,
          "data": {
            "text/plain": "          id  vendor_id      ...      store_and_fwd_flag trip_duration\n0  id2875421          2      ...                       N           455\n1  id2377394          1      ...                       N           663\n2  id3858529          2      ...                       N          2124\n3  id3504673          2      ...                       N           429\n4  id2181028          2      ...                       N           435\n\n[5 rows x 11 columns]",
            "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>id</th>\n      <th>vendor_id</th>\n      <th>pickup_datetime</th>\n      <th>dropoff_datetime</th>\n      <th>passenger_count</th>\n      <th>pickup_longitude</th>\n      <th>pickup_latitude</th>\n      <th>dropoff_longitude</th>\n      <th>dropoff_latitude</th>\n      <th>store_and_fwd_flag</th>\n      <th>trip_duration</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>id2875421</td>\n      <td>2</td>\n      <td>2016-03-14 17:24:55</td>\n      <td>2016-03-14 17:32:30</td>\n      <td>1</td>\n      <td>-73.982155</td>\n      <td>40.767937</td>\n      <td>-73.964630</td>\n      <td>40.765602</td>\n      <td>N</td>\n      <td>455</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>id2377394</td>\n      <td>1</td>\n      <td>2016-06-12 00:43:35</td>\n      <td>2016-06-12 00:54:38</td>\n      <td>1</td>\n      <td>-73.980415</td>\n      <td>40.738564</td>\n      <td>-73.999481</td>\n      <td>40.731152</td>\n      <td>N</td>\n      <td>663</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>id3858529</td>\n      <td>2</td>\n      <td>2016-01-19 11:35:24</td>\n      <td>2016-01-19 12:10:48</td>\n      <td>1</td>\n      <td>-73.979027</td>\n      <td>40.763939</td>\n      <td>-74.005333</td>\n      <td>40.710087</td>\n      <td>N</td>\n      <td>2124</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>id3504673</td>\n      <td>2</td>\n      <td>2016-04-06 19:32:31</td>\n      <td>2016-04-06 19:39:40</td>\n      <td>1</td>\n      <td>-74.010040</td>\n      <td>40.719971</td>\n      <td>-74.012268</td>\n      <td>40.706718</td>\n      <td>N</td>\n      <td>429</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>id2181028</td>\n      <td>2</td>\n      <td>2016-03-26 13:30:55</td>\n      <td>2016-03-26 13:38:10</td>\n      <td>1</td>\n      <td>-73.973053</td>\n      <td>40.793209</td>\n      <td>-73.972923</td>\n      <td>40.782520</td>\n      <td>N</td>\n      <td>435</td>\n    </tr>\n  </tbody>\n</table>\n</div>"
          },
          "metadata": {}
        }
      ]
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "00d7dc705f5135da2d192c1eb3ea7133cabb6208"
      },
      "cell_type": "code",
      "source": "df_train.size\n\n# Holy Pepperoni, that's big",
      "execution_count": 4,
      "outputs": [
        {
          "output_type": "execute_result",
          "execution_count": 4,
          "data": {
            "text/plain": "16045084"
          },
          "metadata": {}
        }
      ]
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "bb34c652c5015f6a7e7d2be62d0d8df5f0614a54"
      },
      "cell_type": "code",
      "source": "print(df_train.columns)\n\n# in order to get an idea of the futur features to take in count for the prediction\n# ... and because I love to print columns anyway, hope you don't mind",
      "execution_count": 5,
      "outputs": [
        {
          "output_type": "stream",
          "text": "Index(['id', 'vendor_id', 'pickup_datetime', 'dropoff_datetime',\n       'passenger_count', 'pickup_longitude', 'pickup_latitude',\n       'dropoff_longitude', 'dropoff_latitude', 'store_and_fwd_flag',\n       'trip_duration'],\n      dtype='object')\n",
          "name": "stdout"
        }
      ]
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "851a4c59a310fb840411c380f60547294d5df6fb"
      },
      "cell_type": "code",
      "source": "df_train.info()",
      "execution_count": 6,
      "outputs": [
        {
          "output_type": "stream",
          "text": "<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 1458644 entries, 0 to 1458643\nData columns (total 11 columns):\nid                    1458644 non-null object\nvendor_id             1458644 non-null int64\npickup_datetime       1458644 non-null object\ndropoff_datetime      1458644 non-null object\npassenger_count       1458644 non-null int64\npickup_longitude      1458644 non-null float64\npickup_latitude       1458644 non-null float64\ndropoff_longitude     1458644 non-null float64\ndropoff_latitude      1458644 non-null float64\nstore_and_fwd_flag    1458644 non-null object\ntrip_duration         1458644 non-null int64\ndtypes: float64(4), int64(3), object(4)\nmemory usage: 122.4+ MB\n",
          "name": "stdout"
        }
      ]
    },
    {
      "metadata": {
        "_uuid": "f08a68b0af12d03abfbb021ac081e51147c9a0c6"
      },
      "cell_type": "markdown",
      "source": "# Further exploration"
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "1fbdbb4141f420cb768709d8df3328a6b51dc46a"
      },
      "cell_type": "code",
      "source": "df_train.isna().sum()",
      "execution_count": 7,
      "outputs": [
        {
          "output_type": "execute_result",
          "execution_count": 7,
          "data": {
            "text/plain": "id                    0\nvendor_id             0\npickup_datetime       0\ndropoff_datetime      0\npassenger_count       0\npickup_longitude      0\npickup_latitude       0\ndropoff_longitude     0\ndropoff_latitude      0\nstore_and_fwd_flag    0\ntrip_duration         0\ndtype: int64"
          },
          "metadata": {}
        }
      ]
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "0c2e2ad4bc4a88ebf7de74da1158195807c2e476"
      },
      "cell_type": "code",
      "source": "df_train.isnull().sum()\n\n# a data with no NaN value, what is this sorcery",
      "execution_count": 8,
      "outputs": [
        {
          "output_type": "execute_result",
          "execution_count": 8,
          "data": {
            "text/plain": "id                    0\nvendor_id             0\npickup_datetime       0\ndropoff_datetime      0\npassenger_count       0\npickup_longitude      0\npickup_latitude       0\ndropoff_longitude     0\ndropoff_latitude      0\nstore_and_fwd_flag    0\ntrip_duration         0\ndtype: int64"
          },
          "metadata": {}
        }
      ]
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "c7abd13acc985324495233ba9ce4bfa905705214"
      },
      "cell_type": "code",
      "source": "# just to be sure\n\ndf_train.duplicated().sum()\n\n# sweet",
      "execution_count": 9,
      "outputs": [
        {
          "output_type": "execute_result",
          "execution_count": 9,
          "data": {
            "text/plain": "0"
          },
          "metadata": {}
        }
      ]
    },
    {
      "metadata": {
        "_uuid": "5315ab0ec738786e9d0cf9f462c0a53d19b0be7f"
      },
      "cell_type": "markdown",
      "source": "# Data cleaning"
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "9c23c3ffcaee8c39a575d71d2686116fb5e0e329"
      },
      "cell_type": "code",
      "source": "# First things first, we need to get rid of outliers in the trip duration feature\n\nplt.subplots(figsize=(20,10))\nplt.title(\"Top Outliers repartition in the trip duration feature\")\nprint(df_train.boxplot())",
      "execution_count": 10,
      "outputs": [
        {
          "output_type": "stream",
          "text": "AxesSubplot(0.125,0.125;0.775x0.755)\n",
          "name": "stdout"
        },
        {
          "output_type": "display_data",
          "data": {
            "text/plain": "<Figure size 1440x720 with 1 Axes>",
            "image/png": "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\n"
          },
          "metadata": {}
        }
      ]
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "727ec36c8c872d5b99d900c617074ae1b71f17ad"
      },
      "cell_type": "code",
      "source": "# 1 minute of silence for the people who forgot to turn off the taxi counter\n# We have to get rid of these values in order to make correct predictions\n\ndf_train = df_train.loc[df_train['trip_duration']< 500000]\n\n# The \"top\" outliers are the easiest to deal with. It gets more complicated with the \"bottom\" outliers\n# In the following, we will consider any trip duration below 5 minutes as outliers\n# haters gonna hate, I know, who would take the taxi for a trip duration less than 5 minutes anyway\n\ndf_train = df_train.loc[(df_train['trip_duration'] > 300) & (df_train['trip_duration'] < 500000)]",
      "execution_count": 11,
      "outputs": []
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "c405a9bd8478603e421d639b4d274d218004ac54"
      },
      "cell_type": "code",
      "source": "# Now we also need to get rid of outliers in the geographical place data section where people are picked up\n\nprint(df_train.plot.scatter(x='pickup_longitude',y='pickup_latitude'))",
      "execution_count": 12,
      "outputs": [
        {
          "output_type": "stream",
          "text": "AxesSubplot(0.125,0.125;0.775x0.755)\n",
          "name": "stdout"
        },
        {
          "output_type": "display_data",
          "data": {
            "text/plain": "<Figure size 432x288 with 1 Axes>",
            "image/png": "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\n"
          },
          "metadata": {}
        }
      ]
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "b2fdff4e10073601d40a77793703393d395f6eb3"
      },
      "cell_type": "code",
      "source": "df_train = df_train.loc[(df_train['pickup_longitude']> -90) & (df_train['pickup_latitude']< 45)]",
      "execution_count": 13,
      "outputs": []
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "e9892bad7f6eff5aa42fb6638603d3e328030f7f"
      },
      "cell_type": "code",
      "source": "# Same goes with the place people are dropped off\n\nprint(df_train.plot.scatter(x='dropoff_longitude',y='dropoff_latitude'))",
      "execution_count": 14,
      "outputs": [
        {
          "output_type": "stream",
          "text": "AxesSubplot(0.125,0.125;0.775x0.755)\n",
          "name": "stdout"
        },
        {
          "output_type": "display_data",
          "data": {
            "text/plain": "<Figure size 432x288 with 1 Axes>",
            "image/png": "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\n"
          },
          "metadata": {}
        }
      ]
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "9bfc6abac8e7b0a0930ca207c6928a5a3d60188b"
      },
      "cell_type": "code",
      "source": "df_train = df_train.loc[(df_train['dropoff_longitude']> -82.5) & (df_train['dropoff_latitude']> 35)]",
      "execution_count": 15,
      "outputs": []
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "16bd130aa5a793e54b0e7adf70e1fb592ea93560"
      },
      "cell_type": "code",
      "source": "# In prevision of the prediction model, we are going to create 2 more features, Time and Distance\n\ndf_train['Time'] = df_train['pickup_datetime'].apply(lambda x: int(x.split()[1][0:2]))\n\ndf_train['Distance'] = np.sqrt((df_train['pickup_latitude']-df_train['dropoff_latitude'])**2 \n                               + (df_train['pickup_longitude']-df_train['dropoff_longitude'])**2) ",
      "execution_count": 16,
      "outputs": []
    },
    {
      "metadata": {
        "_uuid": "9c7b3c216d6c0996103284d7b4fa3cf3f5d90671"
      },
      "cell_type": "markdown",
      "source": "# Features selection and extraction"
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "114c0256ffadc74b638937bc0a80d01965ae9278"
      },
      "cell_type": "code",
      "source": "y = df_train[\"trip_duration\"] # <-- target\nX = df_train[[\"passenger_count\", \"pickup_longitude\", \"pickup_latitude\", \"dropoff_longitude\",\"dropoff_latitude\",\"Time\",\"Distance\"]] # <-- features\nX_train, X_valid, y_train, y_valid = train_test_split(X,y, test_size=0.2, random_state=42)\nX_train.shape, X_valid.shape, y_train.shape, y_valid.shape",
      "execution_count": 17,
      "outputs": [
        {
          "output_type": "execute_result",
          "execution_count": 17,
          "data": {
            "text/plain": "((989375, 7), (247344, 7), (989375,), (247344,))"
          },
          "metadata": {}
        }
      ]
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "4ec9671436eeaf24521628a0643f2eafd3dea7cd"
      },
      "cell_type": "code",
      "source": "m1 = RandomForestRegressor()\nm1.fit(X_train, y_train)",
      "execution_count": 18,
      "outputs": [
        {
          "output_type": "stream",
          "text": "/opt/conda/lib/python3.6/site-packages/sklearn/ensemble/forest.py:246: FutureWarning: The default value of n_estimators will change from 10 in version 0.20 to 100 in 0.22.\n  \"10 in version 0.20 to 100 in 0.22.\", FutureWarning)\n",
          "name": "stderr"
        },
        {
          "output_type": "execute_result",
          "execution_count": 18,
          "data": {
            "text/plain": "RandomForestRegressor(bootstrap=True, criterion='mse', max_depth=None,\n           max_features='auto', max_leaf_nodes=None,\n           min_impurity_decrease=0.0, min_impurity_split=None,\n           min_samples_leaf=1, min_samples_split=2,\n           min_weight_fraction_leaf=0.0, n_estimators=10, n_jobs=None,\n           oob_score=False, random_state=None, verbose=0, warm_start=False)"
          },
          "metadata": {}
        }
      ]
    },
    {
      "metadata": {
        "_uuid": "e1c509dd8f1ba1672f891a337d2b69a5e4f38a7c"
      },
      "cell_type": "markdown",
      "source": "# Validation"
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "cf435d942a9011af2794dd586b4af84cd6bf4045"
      },
      "cell_type": "code",
      "source": "m1_scores = cross_val_score(m1, X, y, cv=5, scoring =\"neg_mean_squared_log_error\")\nm1_scores",
      "execution_count": 19,
      "outputs": [
        {
          "output_type": "execute_result",
          "execution_count": 19,
          "data": {
            "text/plain": "array([-0.24601963, -0.24297722, -0.24398805, -0.24321227, -0.24119647])"
          },
          "metadata": {}
        }
      ]
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "3126b90095405d6d1e986ae96991ea06519ecbce"
      },
      "cell_type": "code",
      "source": "for i in range(len(m1_scores)):\n    m1_scores[i] = np.sqrt(abs(m1_scores[i]))\nprint(m1_scores)\nprint(np.mean(m1_scores))",
      "execution_count": 20,
      "outputs": [
        {
          "output_type": "stream",
          "text": "[0.49600366 0.4929272  0.49395146 0.49316556 0.49111757]\n0.49343308789877954\n",
          "name": "stdout"
        }
      ]
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "ee9bbb0a3a8cea047ef7b58d3a0510c2582fa642"
      },
      "cell_type": "code",
      "source": "df_test['Time'] = df_test['pickup_datetime'].apply(lambda x: int(x.split()[1][0:2]))\n\ndf_test['Distance'] = np.sqrt((df_test['pickup_latitude']-df_test['dropoff_latitude'])**2 + (df_test['pickup_longitude']-df_test['dropoff_longitude'])**2) \ndf_test.head()",
      "execution_count": 23,
      "outputs": [
        {
          "output_type": "execute_result",
          "execution_count": 23,
          "data": {
            "text/plain": "          id  vendor_id    ...    Time  Distance\n0  id3004672          1    ...      23  0.024735\n1  id3505355          1    ...      23  0.024979\n2  id1217141          1    ...      23  0.013861\n3  id2150126          2    ...      23  0.051363\n4  id1598245          1    ...      23  0.010343\n\n[5 rows x 11 columns]",
            "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>id</th>\n      <th>vendor_id</th>\n      <th>pickup_datetime</th>\n      <th>passenger_count</th>\n      <th>pickup_longitude</th>\n      <th>pickup_latitude</th>\n      <th>dropoff_longitude</th>\n      <th>dropoff_latitude</th>\n      <th>store_and_fwd_flag</th>\n      <th>Time</th>\n      <th>Distance</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>id3004672</td>\n      <td>1</td>\n      <td>2016-06-30 23:59:58</td>\n      <td>1</td>\n      <td>-73.988129</td>\n      <td>40.732029</td>\n      <td>-73.990173</td>\n      <td>40.756680</td>\n      <td>N</td>\n      <td>23</td>\n      <td>0.024735</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>id3505355</td>\n      <td>1</td>\n      <td>2016-06-30 23:59:53</td>\n      <td>1</td>\n      <td>-73.964203</td>\n      <td>40.679993</td>\n      <td>-73.959808</td>\n      <td>40.655403</td>\n      <td>N</td>\n      <td>23</td>\n      <td>0.024979</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>id1217141</td>\n      <td>1</td>\n      <td>2016-06-30 23:59:47</td>\n      <td>1</td>\n      <td>-73.997437</td>\n      <td>40.737583</td>\n      <td>-73.986160</td>\n      <td>40.729523</td>\n      <td>N</td>\n      <td>23</td>\n      <td>0.013861</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>id2150126</td>\n      <td>2</td>\n      <td>2016-06-30 23:59:41</td>\n      <td>1</td>\n      <td>-73.956070</td>\n      <td>40.771900</td>\n      <td>-73.986427</td>\n      <td>40.730469</td>\n      <td>N</td>\n      <td>23</td>\n      <td>0.051363</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>id1598245</td>\n      <td>1</td>\n      <td>2016-06-30 23:59:33</td>\n      <td>1</td>\n      <td>-73.970215</td>\n      <td>40.761475</td>\n      <td>-73.961510</td>\n      <td>40.755890</td>\n      <td>N</td>\n      <td>23</td>\n      <td>0.010343</td>\n    </tr>\n  </tbody>\n</table>\n</div>"
          },
          "metadata": {}
        }
      ]
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "fc1db391567adc59e68c3061591d43a3286afdae"
      },
      "cell_type": "code",
      "source": "X_test = df_test[[\"passenger_count\", \"pickup_longitude\", \"pickup_latitude\", \"dropoff_longitude\",\"dropoff_latitude\",\"Time\",\"Distance\"]]\npredicted_duration = m1.predict(X_test)\nprint(predicted_duration)",
      "execution_count": 26,
      "outputs": [
        {
          "output_type": "stream",
          "text": "[ 743.9  804.3  580.8 ... 1598.5 1688.7 1104.2]\n",
          "name": "stdout"
        }
      ]
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "fa99b32dc0cf134a12bed8ec66653688643fd73f"
      },
      "cell_type": "code",
      "source": "My_Submission = pd.DataFrame({'id': df_test.id, 'trip_duration': predicted_duration})\nprint(My_Submission)",
      "execution_count": 27,
      "outputs": [
        {
          "output_type": "stream",
          "text": "               id  trip_duration\n0       id3004672          743.9\n1       id3505355          804.3\n2       id1217141          580.8\n3       id2150126          925.1\n4       id1598245          448.6\n5       id0668992          916.8\n6       id1765014         1186.2\n7       id0898117          822.5\n8       id3905224         2288.0\n9       id1543102          573.4\n10      id3024712          920.1\n11      id3665810          468.4\n12      id1836461          390.5\n13      id3457080          566.6\n14      id3376065         1096.6\n15      id3008739          579.8\n16      id0902216         1193.6\n17      id3564824          463.4\n18      id0820280          486.6\n19      id0775088         1122.6\n20      id1468488          471.9\n21      id2657479          390.5\n22      id1262719          561.1\n23      id1345524         1070.4\n24      id2911638          883.9\n25      id2849512         1415.9\n26      id0236829          471.5\n27      id2905906          394.5\n28      id3737939         1132.0\n29      id0766179         1750.9\n...           ...            ...\n625104  id0120169         9029.8\n625105  id0386349          427.9\n625106  id1962532          770.3\n625107  id0335207          389.2\n625108  id0273508         1474.4\n625109  id2936770          511.9\n625110  id0044526          439.5\n625111  id3605431          599.3\n625112  id2681896          422.2\n625113  id3308448          503.5\n625114  id2108525          556.0\n625115  id3952220         2283.7\n625116  id2771348          540.0\n625117  id3065313         1693.9\n625118  id2332834         1771.3\n625119  id3495407          526.5\n625120  id3811106          415.2\n625121  id2693698          401.3\n625122  id2884571          397.1\n625123  id2790343         1103.7\n625124  id1901191          812.7\n625125  id0664662         9169.8\n625126  id2073829          395.2\n625127  id0328287          411.4\n625128  id1340822          444.9\n625129  id3008929          402.3\n625130  id3700764         1250.1\n625131  id2568735         1598.5\n625132  id1384355         1688.7\n625133  id0621643         1104.2\n\n[625134 rows x 2 columns]\n",
          "name": "stdout"
        }
      ]
    },
    {
      "metadata": {
        "trusted": true,
        "_uuid": "b887b8a691579276a064f72f6bf8318f975128b6"
      },
      "cell_type": "code",
      "source": "My_Submission.to_csv('submission.csv', index=False)",
      "execution_count": 28,
      "outputs": []
    },
    {
      "metadata": {
        "_uuid": "817236d71f7f29ac80352cb9210894952fe5569e"
      },
      "cell_type": "markdown",
      "source": "### Thanks for the time you spent reading this Kernel. I'm completely new to machine learning and this is my first attempt on a Kaggle dataset. If you have any suggestion on how I can improve myself, please feel free to share it ! "
    }
  ],
  "metadata": {
    "kernelspec": {
      "display_name": "Python 3",
      "language": "python",
      "name": "python3"
    },
    "language_info": {
      "codemirror_mode": {
        "name": "ipython",
        "version": 3
      },
      "file_extension": ".py",
      "mimetype": "text/x-python",
      "name": "python",
      "nbconvert_exporter": "python",
      "pygments_lexer": "ipython3",
      "version": "3.7.2"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 1
}
